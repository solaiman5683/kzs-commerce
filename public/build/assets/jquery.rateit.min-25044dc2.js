/*! RateIt | v1.1.5 / 03/10/2021
    https://github.com/gjunge/rateit.js | Twitter: @gjunge
*/(function(n){function A(s){var l=s.originalEvent.changedTouches[0],m="";switch(s.type){case"touchmove":m="mousemove";break;case"touchend":m="mouseup";break;default:return}var d=document.createEvent("MouseEvent");d.initMouseEvent(m,!0,!0,window,1,l.screenX,l.screenY,l.clientX,l.clientY,!1,!1,!1,!1,0,null),l.target.dispatchEvent(d),s.preventDefault()}n.rateit={aria:{resetLabel:"reset rating",ratingLabel:"rating"}},n.fn.rateit=function(s,l){var m=1,d={},x="init",w=function(i){return i.charAt(0).toUpperCase()+i.substr(1)};if(this.length===0)return this;var g=typeof s;if(g=="object"||s==null)d=n.extend({},n.fn.rateit.defaults,s);else{if(g=="string"&&s!=="reset"&&l===void 0)return this.data("rateit"+w(s));g=="string"&&(x="setvalue")}return this.each(function(){var i=n(this),e=function(a,o){if(o!=null){var u="aria-value"+(a=="value"?"now":a),c=i.find(".rateit-range");c.attr(u)!=null&&c.attr(u,o)}return a="rateit"+w(a),i.data.apply(i,arguments)};if(s=="reset"){var y=e("init");for(var N in y)i.data(N,y[N]);e("backingfld")&&((t=n(e("backingfld")))[0].nodeName=="SELECT"&&t[0].getAttribute("data-rateit-valuesrc")==="index"?t.prop("selectedIndex",e("value")):t.val(e("value")),t.trigger("change"),t[0].min&&(t[0].min=e("min")),t[0].max&&(t[0].max=e("max")),t[0].step&&(t[0].step=e("step"))),i.trigger("reset")}i.hasClass("rateit")||i.addClass("rateit");var h=i.css("direction")!="rtl";if(x=="setvalue"){if(!e("init"))throw"Can't set value before init";s!="readonly"||l!=1||e("readonly")||(i.find(".rateit-range").off(),e("wired",!1)),s=="value"&&(l=l==null?e("min"):Math.max(e("min"),Math.min(e("max"),l))),e("backingfld")&&((t=n(e("backingfld")))[0].nodeName=="SELECT"&&t[0].getAttribute("data-rateit-valuesrc")==="index"?s=="value"&&t.prop("selectedIndex",l):s=="value"&&t.val(l),s=="min"&&t[0].min&&(t[0].min=l),s=="max"&&t[0].max&&(t[0].max=l),s=="step"&&t[0].step&&(t[0].step=l)),e(s,l)}if(!e("init")){var t;if(e("mode",e("mode")||d.mode),e("icon",e("icon")||d.icon),e("min",isNaN(e("min"))?d.min:e("min")),e("max",isNaN(e("max"))?d.max:e("max")),e("step",e("step")||d.step),e("readonly",e("readonly")!==void 0?e("readonly"):d.readonly),e("resetable",e("resetable")!==void 0?e("resetable"):d.resetable),e("backingfld",e("backingfld")||d.backingfld),e("starwidth",e("starwidth")||d.starwidth),e("starheight",e("starheight")||d.starheight),e("value",Math.max(e("min"),Math.min(e("max"),isNaN(e("value"))?isNaN(d.value)?d.min:d.value:e("value")))),e("ispreset",e("ispreset")!==void 0?e("ispreset"):d.ispreset),e("backingfld"))if(((t=n(e("backingfld")).hide()).attr("disabled")||t.attr("readonly"))&&e("readonly",!0),t[0].nodeName=="INPUT"&&(t[0].type!="range"&&t[0].type!="text"||(e("min",parseInt(t.attr("min"))||e("min")),e("max",parseInt(t.attr("max"))||e("max")),e("step",parseInt(t.attr("step"))||e("step")))),t[0].nodeName=="SELECT"&&1<t[0].options.length){t[0].getAttribute("data-rateit-valuesrc")==="index"?(e("min",isNaN(e("min"))?Number(t[0].options[0].index):e("min")),e("max",Number(t[0].options[t[0].length-1].index)),e("step",Number(t[0].options[1].index)-Number(t[0].options[0].index))):(e("min",isNaN(e("min"))?Number(t[0].options[0].value):e("min")),e("max",Number(t[0].options[t[0].length-1].value)),e("step",Number(t[0].options[1].value)-Number(t[0].options[0].value)));var f=t.find("option[selected]");f.length==1&&(t[0].getAttribute("data-rateit-valuesrc")==="index"?e("value",f[0].index):e("value",f.val()))}else e("value",t.val());var S=i[0].nodeName=="DIV"?"div":"span";m++;var D='<button id="rateit-reset-{{index}}" type="button" data-role="none" class="rateit-reset" aria-label="'+n.rateit.aria.resetLabel+'" aria-controls="rateit-range-{{index}}"><span></span></button><{{element}} id="rateit-range-{{index}}" class="rateit-range"'+(e("readonly")==1?"":' tabindex="0"')+' role="slider" aria-label="'+n.rateit.aria.ratingLabel+'" aria-owns="rateit-reset-{{index}}" aria-valuemin="'+e("min")+'" aria-valuemax="'+e("max")+'" aria-valuenow="'+e("value")+'"><{{element}} class="rateit-empty"></{{element}}><{{element}} class="rateit-selected"></{{element}}><{{element}} class="rateit-hover"></{{element}}></{{element}}>';i.append(D.replace(/{{index}}/gi,m).replace(/{{element}}/gi,S)),h||(i.find(".rateit-reset").css("float","right"),i.find(".rateit-selected").addClass("rateit-selected-rtl"),i.find(".rateit-hover").addClass("rateit-hover-rtl")),e("mode")=="font"?i.addClass("rateit-font").removeClass("rateit-bg"):i.addClass("rateit-bg").removeClass("rateit-font"),e("init",JSON.parse(JSON.stringify(i.data())))}var C=e("mode")=="font";C||i.find(".rateit-selected, .rateit-hover").height(e("starheight"));var r=i.find(".rateit-range");if(C){for(var X=e("icon"),P=e("max")-e("min"),k="",E=0;E<P;E++)k+=X;r.find("> *").text(k),e("starwidth",r.width()/(e("max")-e("min")))}else r.width(e("starwidth")*(e("max")-e("min"))).height(e("starheight"));var p="rateit-preset"+(h?"":"-rtl");if(e("ispreset")?i.find(".rateit-selected").addClass(p):i.find(".rateit-selected").removeClass(p),e("value")!=null){var I=(e("value")-e("min"))*e("starwidth");i.find(".rateit-selected").width(I)}var v=i.find(".rateit-reset");v.data("wired")!==!0&&v.on("click",function(a){a.preventDefault(),v.trigger("blur");var o=n.Event("beforereset");if(i.trigger(o),o.isDefaultPrevented())return!1;i.rateit("value",null),i.trigger("reset")}).data("wired",!0);var L=function(a,o){var u=(o.changedTouches?o.changedTouches[0].pageX:o.pageX)-n(a).offset().left;return h||(u=r.width()-u),u>r.width()&&(u=r.width()),u<0&&(u=0),I=Math.ceil(u/e("starwidth")*(1/e("step")))},b=function(a){var o=n.Event("beforerated");return i.trigger(o,[a]),!o.isDefaultPrevented()&&(e("value",a),e("backingfld")&&(t[0].nodeName=="SELECT"&&t[0].getAttribute("data-rateit-valuesrc")==="index"?n(e("backingfld")).prop("selectedIndex",a).trigger("change"):n(e("backingfld")).val(a).trigger("change")),e("ispreset")&&(r.find(".rateit-selected").removeClass(p),e("ispreset",!1)),r.find(".rateit-hover").hide(),r.find(".rateit-selected").width(a*e("starwidth")-e("min")*e("starwidth")).show(),i.trigger("hover",[null]).trigger("over",[null]).trigger("rated",[a]),!0)};e("readonly")?v.hide():(e("resetable")||v.hide(),e("wired")||(r.on("touchmove touchend",A),r.on("mousemove",function(a){(function(o){var u=o*e("starwidth")*e("step"),c=r.find(".rateit-hover");if(c.data("width")!=u){r.find(".rateit-selected").hide(),c.width(u).show().data("width",u);var T=[o*e("step")+e("min")];i.trigger("hover",T).trigger("over",T)}})(L(this,a))}),r.on("mouseleave",function(a){r.find(".rateit-hover").hide().width(0).data("width",""),i.trigger("hover",[null]).trigger("over",[null]),r.find(".rateit-selected").show()}),r.on("mouseup",function(a){var o=L(this,a)*e("step")+e("min");b(o),r.trigger("blur")}),r.on("keyup",function(a){a.which!=38&&a.which!=(h?39:37)||b(Math.min(e("value")+e("step"),e("max"))),a.which!=40&&a.which!=(h?37:39)||b(Math.max(e("value")-e("step"),e("min")))}),e("wired",!0)),e("resetable")&&v.show()),r.attr("aria-readonly",e("readonly"))})},n.fn.rateit.defaults={min:0,max:5,step:.5,mode:"bg",icon:"â˜…",starwidth:16,starheight:16,readonly:!1,resetable:!0,ispreset:!1},n(function(){n("div.rateit, span.rateit").rateit()})})(jQuery);
//# sourceMappingURL=jquery.rateit.min-25044dc2.js.map
