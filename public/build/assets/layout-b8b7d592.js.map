{"version":3,"file":"layout-b8b7d592.js","sources":["../../../resources/js/layout.js"],"sourcesContent":["/**\n* Theme: KZS - Admin Panel\n* Author: Coderthemes\n* Module/App: Layout Js\n*/\n\n\nclass ThemeCustomizer {\n\n  constructor() {\n    this.html = document.getElementsByTagName('html')[0]\n    this.config = {\n\n    };\n    this.defaultConfig = window.config;\n  }\n\n  initConfig() {\n    this.defaultConfig = JSON.parse(JSON.stringify(window.defaultConfig));\n    this.config = JSON.parse(JSON.stringify(window.config));\n    this.setSwitchFromConfig();\n  }\n\n  changeMenuColor(color) {\n    this.config.menu.color = color;\n    this.html.setAttribute('data-menu-color', color);\n    this.setSwitchFromConfig();\n  }\n\n  changeLeftbarSize(size, save = true) {\n    this.html.setAttribute('data-sidenav-size', size);\n    if (save) {\n      this.config.sidenav.size = size;\n      this.setSwitchFromConfig();\n    }\n  }\n\n  changeLayoutMode(mode, save = true) {\n    this.html.setAttribute('data-layout-mode', mode);\n    if (save) {\n      this.config.layout.mode = mode;\n      this.setSwitchFromConfig();\n    }\n  }\n\n  changeLayoutPosition(position) {\n    this.config.layout.position = position;\n    this.html.setAttribute('data-layout-position', position);\n    this.setSwitchFromConfig();\n  }\n\n  changeLayoutColor(color) {\n    this.config.theme = color;\n    this.html.setAttribute('data-bs-theme', color);\n    this.setSwitchFromConfig();\n  }\n\n  changeTopbarColor(color) {\n    this.config.topbar.color = color;\n    this.html.setAttribute('data-topbar-color', color);\n    this.setSwitchFromConfig();\n  }\n\n  changeSidebarUser(showUser) {\n\n    this.config.sidenav.user = showUser;\n    if (showUser) {\n      this.html.setAttribute('data-sidenav-user', showUser);\n    } else {\n      this.html.removeAttribute('data-sidenav-user');\n    }\n    this.setSwitchFromConfig();\n  }\n\n  resetTheme() {\n    this.config = JSON.parse(JSON.stringify(window.defaultConfig));\n    this.changeMenuColor(this.config.menu.color);\n    this.changeLeftbarSize(this.config.sidenav.size);\n    this.changeLayoutColor(this.config.theme);\n    this.changeLayoutMode(this.config.layout.mode);\n    this.changeLayoutPosition(this.config.layout.position);\n    this.changeTopbarColor(this.config.topbar.color);\n    this.changeSidebarUser(this.config.sidenav.user);\n    this._adjustLayout();\n  }\n\n  initSwitchListener() {\n    var self = this;\n    document.querySelectorAll('input[name=data-menu-color]').forEach(function (element) {\n      element.addEventListener('change', function (e) {\n        self.changeMenuColor(element.value);\n      })\n    });\n\n    document.querySelectorAll('input[name=data-sidenav-size]').forEach(function (element) {\n      element.addEventListener('change', function (e) {\n        self.changeLeftbarSize(element.value);\n      })\n    });\n\n    document.querySelectorAll('input[name=data-bs-theme]').forEach(function (element) {\n      element.addEventListener('change', function (e) {\n        self.changeLayoutColor(element.value);\n      })\n    });\n    document.querySelectorAll('input[name=data-layout-mode]').forEach(function (element) {\n      element.addEventListener('change', function (e) {\n        self.changeLayoutMode(element.value);\n      })\n    });\n\n    document.querySelectorAll('input[name=data-layout-position]').forEach(function (element) {\n      element.addEventListener('change', function (e) {\n        self.changeLayoutPosition(element.value);\n      })\n    });\n    document.querySelectorAll('input[name=data-layout]').forEach(function (element) {\n      element.addEventListener('change', function (e) {\n        window.location = element.value === 'horizontal' ? '/layouts-eg/horizontal' : '/'\n      })\n    });\n    document.querySelectorAll('input[name=data-topbar-color]').forEach(function (element) {\n      element.addEventListener('change', function (e) {\n        self.changeTopbarColor(element.value);\n      })\n    });\n    document.querySelectorAll('input[name=sidebar-user]').forEach(function (element) {\n      element.addEventListener('change', function (e) {\n        self.changeSidebarUser(element.checked);\n      })\n    });\n\n\n    //TopBar Light Dark\n    var themeColorToggle = document.getElementById('light-dark-mode');\n    if (themeColorToggle) {\n      themeColorToggle.addEventListener('click', function (e) {\n\n        if (self.config.theme === 'light') {\n          self.changeLayoutColor('dark');\n        } else {\n          self.changeLayoutColor('light');\n        }\n      });\n    }\n\n    var resetBtn = document.querySelector('#reset-layout')\n    if (resetBtn) {\n      resetBtn.addEventListener('click', function (e) {\n        self.resetTheme();\n      });\n    }\n\n    var menuToggleBtn = document.querySelector('.button-toggle-menu');\n    if (menuToggleBtn) {\n      menuToggleBtn.addEventListener('click', function () {\n        var configSize = self.config.sidenav.size;\n        var size = self.html.getAttribute('data-sidenav-size', configSize);\n\n        if (size === 'full') {\n          self.showBackdrop();\n        } else {\n          if (configSize == 'fullscreen') {\n            if (size === 'fullscreen') {\n              self.changeLeftbarSize(configSize == 'fullscreen' ? 'default' : configSize, false);\n            } else {\n              self.changeLeftbarSize('fullscreen', false);\n            }\n          } else {\n            if (size === 'condensed') {\n              self.changeLeftbarSize(configSize == 'condensed' ? 'default' : configSize, false);\n            } else {\n              self.changeLeftbarSize('condensed', false);\n            }\n          }\n        }\n\n        // Todo: old implementation\n        self.html.classList.toggle('sidebar-enable');\n\n      });\n    }\n\n    var menuCloseBtn = document.querySelector('.button-close-fullsidebar');\n    if (menuCloseBtn) {\n      menuCloseBtn.addEventListener('click', function () {\n        self.html.classList.remove('sidebar-enable');\n        self.hideBackdrop();\n      });\n    }\n\n    var hoverBtn = document.querySelectorAll('.button-sm-hover');\n    hoverBtn.forEach(function (element) {\n      element.addEventListener('click', function () {\n        var configSize = self.config.sidenav.size;\n        var size = self.html.getAttribute('data-sidenav-size', configSize);\n\n        if (size === 'sm-hover-active') {\n          self.changeLeftbarSize('sm-hover', false);\n        } else {\n          self.changeLeftbarSize('sm-hover-active', false);\n        }\n      });\n    })\n  }\n\n  showBackdrop() {\n    const backdrop = document.createElement('div');\n    backdrop.id = 'custom-backdrop';\n    backdrop.classList = 'offcanvas-backdrop fade show';\n    document.body.appendChild(backdrop);\n    document.body.style.overflow = \"hidden\";\n    if (window.innerWidth > 767) {\n      document.body.style.paddingRight = \"15px\";\n    }\n    const self = this\n    backdrop.addEventListener('click', function (e) {\n      self.html.classList.remove('sidebar-enable');\n      self.hideBackdrop();\n    })\n  }\n\n  hideBackdrop() {\n    var backdrop = document.getElementById('custom-backdrop');\n    if (backdrop) {\n      document.body.removeChild(backdrop);\n      document.body.style.overflow = null;\n      document.body.style.paddingRight = null;\n    }\n  }\n\n\n  initWindowSize() {\n    var self = this;\n    window.addEventListener('resize', function (e) {\n      self._adjustLayout();\n    })\n  }\n\n  _adjustLayout() {\n    var self = this;\n\n    if (window.innerWidth <= 767.98) {\n      self.changeLeftbarSize('full', false);\n    } else if (window.innerWidth >= 767 && window.innerWidth <= 1140) {\n      if (self.config.sidenav.size !== 'full' && self.config.sidenav.size !== 'fullscreen') {\n        if (self.config.sidenav.size === 'sm-hover') {\n          self.changeLeftbarSize('condensed');\n        } else {\n          self.changeLeftbarSize('condensed', false);\n        }\n      }\n    } else {\n      self.changeLeftbarSize(self.config.sidenav.size);\n      self.changeLayoutMode(self.config.layout.mode);\n    }\n  }\n\n  setSwitchFromConfig() {\n\n    sessionStorage.setItem('__ATTEX_CONFIG__', JSON.stringify(this.config));\n\n    document.querySelectorAll('#theme-settings-offcanvas input[type=checkbox]').forEach(function (checkbox) {\n      checkbox.checked = false;\n    })\n\n    var config = this.config;\n    if (config) {\n      var layoutNavSwitch = document.querySelector('input[type=checkbox][name=data-layout][value=' + config.nav + ']');\n      var layoutColorSwitch = document.querySelector('input[type=checkbox][name=data-bs-theme][value=' + config.theme + ']');\n      var layoutModeSwitch = document.querySelector('input[type=checkbox][name=data-layout-mode][value=' + config.layout.mode + ']');\n      var topbarColorSwitch = document.querySelector('input[type=checkbox][name=data-topbar-color][value=' + config.topbar.color + ']');\n      var menuColorSwitch = document.querySelector('input[type=checkbox][name=data-menu-color][value=' + config.menu.color + ']');\n      var leftbarSizeSwitch = document.querySelector('input[type=checkbox][name=data-sidenav-size][value=' + config.sidenav.size + ']');\n      var layoutPositionSwitch = document.querySelector('input[type=radio][name=data-layout-position][value=' + config.layout.position + ']');\n      var sidebarUserSwitch = document.querySelector('input[type=checkbox][name=sidebar-user]');\n\n      if (layoutNavSwitch) layoutNavSwitch.checked = true;\n      if (layoutColorSwitch) layoutColorSwitch.checked = true;\n      if (layoutModeSwitch) layoutModeSwitch.checked = true;\n      if (topbarColorSwitch) topbarColorSwitch.checked = true;\n      if (menuColorSwitch) menuColorSwitch.checked = true;\n      if (leftbarSizeSwitch) leftbarSizeSwitch.checked = true;\n      if (layoutPositionSwitch) layoutPositionSwitch.checked = true;\n      if (sidebarUserSwitch && config.sidenav.user.toString() === \"true\") sidebarUserSwitch.checked = true;\n    }\n  }\n\n  init() {\n    this.initConfig();\n    this.initSwitchListener();\n    this.initWindowSize();\n    this._adjustLayout();\n    this.setSwitchFromConfig();\n  }\n}\n\nnew ThemeCustomizer().init();\n"],"names":["ThemeCustomizer","color","size","save","mode","position","showUser","self","element","e","themeColorToggle","resetBtn","menuToggleBtn","configSize","menuCloseBtn","hoverBtn","backdrop","checkbox","config","layoutNavSwitch","layoutColorSwitch","layoutModeSwitch","topbarColorSwitch","menuColorSwitch","leftbarSizeSwitch","layoutPositionSwitch","sidebarUserSwitch"],"mappings":"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"}