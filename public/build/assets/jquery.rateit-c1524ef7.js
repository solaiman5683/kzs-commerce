/*! RateIt | v1.1.5 / 03/10/2021
    https://github.com/gjunge/rateit.js | Twitter: @gjunge
*/(function(d){d.rateit={aria:{resetLabel:"reset rating",ratingLabel:"rating"}},d.fn.rateit=function(s,o){var m=1,l={},h="init",w=function(a){return a.charAt(0).toUpperCase()+a.substr(1)};if(this.length===0)return this;var g=typeof s;if(g=="object"||s===void 0||s===null)l=d.extend({},d.fn.rateit.defaults,s);else{if(g=="string"&&s!=="reset"&&o===void 0)return this.data("rateit"+w(s));g=="string"&&(h="setvalue")}return this.each(function(){var a=d(this),e=function(i,n){if(n!=null){var u="aria-value"+(i=="value"?"now":i),f=a.find(".rateit-range");f.attr(u)!=null&&f.attr(u,n)}return arguments[0]="rateit"+w(i),a.data.apply(a,arguments)};if(s=="reset"){var N=e("init");for(var y in N)a.data(y,N[y]);if(e("backingfld")){var t=d(e("backingfld"));t[0].nodeName=="SELECT"&&t[0].getAttribute("data-rateit-valuesrc")==="index"?t.prop("selectedIndex",e("value")):t.val(e("value")),t.trigger("change"),t[0].min&&(t[0].min=e("min")),t[0].max&&(t[0].max=e("max")),t[0].step&&(t[0].step=e("step"))}a.trigger("reset")}a.hasClass("rateit")||a.addClass("rateit");var c=a.css("direction")!="rtl";if(h=="setvalue"){if(!e("init"))throw"Can't set value before init";if(s=="readonly"&&o==!0&&!e("readonly")&&(a.find(".rateit-range").off(),e("wired",!1)),s=="value"&&(o=o==null?e("min"):Math.max(e("min"),Math.min(e("max"),o))),e("backingfld")){var t=d(e("backingfld"));t[0].nodeName=="SELECT"&&t[0].getAttribute("data-rateit-valuesrc")==="index"?s=="value"&&t.prop("selectedIndex",o):s=="value"&&t.val(o),s=="min"&&t[0].min&&(t[0].min=o),s=="max"&&t[0].max&&(t[0].max=o),s=="step"&&t[0].step&&(t[0].step=o)}e(s,o)}if(!e("init")){if(e("mode",e("mode")||l.mode),e("icon",e("icon")||l.icon),e("min",isNaN(e("min"))?l.min:e("min")),e("max",isNaN(e("max"))?l.max:e("max")),e("step",e("step")||l.step),e("readonly",e("readonly")!==void 0?e("readonly"):l.readonly),e("resetable",e("resetable")!==void 0?e("resetable"):l.resetable),e("backingfld",e("backingfld")||l.backingfld),e("starwidth",e("starwidth")||l.starwidth),e("starheight",e("starheight")||l.starheight),e("value",Math.max(e("min"),Math.min(e("max"),isNaN(e("value"))?isNaN(l.value)?l.min:l.value:e("value")))),e("ispreset",e("ispreset")!==void 0?e("ispreset"):l.ispreset),e("backingfld")){var t=d(e("backingfld")).hide();if((t.attr("disabled")||t.attr("readonly"))&&e("readonly",!0),t[0].nodeName=="INPUT"&&(t[0].type=="range"||t[0].type=="text")&&(e("min",parseInt(t.attr("min"))||e("min")),e("max",parseInt(t.attr("max"))||e("max")),e("step",parseInt(t.attr("step"))||e("step"))),t[0].nodeName=="SELECT"&&t[0].options.length>1){t[0].getAttribute("data-rateit-valuesrc")==="index"?(e("min",isNaN(e("min"))?Number(t[0].options[0].index):e("min")),e("max",Number(t[0].options[t[0].length-1].index)),e("step",Number(t[0].options[1].index)-Number(t[0].options[0].index))):(e("min",isNaN(e("min"))?Number(t[0].options[0].value):e("min")),e("max",Number(t[0].options[t[0].length-1].value)),e("step",Number(t[0].options[1].value)-Number(t[0].options[0].value)));var b=t.find("option[selected]");b.length==1&&(t[0].getAttribute("data-rateit-valuesrc")==="index"?e("value",b[0].index):e("value",b.val()))}else e("value",t.val())}var S=a[0].nodeName=="DIV"?"div":"span";m++;var T='<button id="rateit-reset-{{index}}" type="button" data-role="none" class="rateit-reset" aria-label="'+d.rateit.aria.resetLabel+'" aria-controls="rateit-range-{{index}}"><span></span></button><{{element}} id="rateit-range-{{index}}" class="rateit-range"'+(e("readonly")==!0?"":' tabindex="0"')+' role="slider" aria-label="'+d.rateit.aria.ratingLabel+'" aria-owns="rateit-reset-{{index}}" aria-valuemin="'+e("min")+'" aria-valuemax="'+e("max")+'" aria-valuenow="'+e("value")+'"><{{element}} class="rateit-empty"></{{element}}><{{element}} class="rateit-selected"></{{element}}><{{element}} class="rateit-hover"></{{element}}></{{element}}>';a.append(T.replace(/{{index}}/gi,m).replace(/{{element}}/gi,S)),c||(a.find(".rateit-reset").css("float","right"),a.find(".rateit-selected").addClass("rateit-selected-rtl"),a.find(".rateit-hover").addClass("rateit-hover-rtl")),e("mode")=="font"?a.addClass("rateit-font").removeClass("rateit-bg"):a.addClass("rateit-bg").removeClass("rateit-font"),e("init",JSON.parse(JSON.stringify(a.data())))}var C=e("mode")=="font";C||a.find(".rateit-selected, .rateit-hover").height(e("starheight"));var r=a.find(".rateit-range");if(C){for(var A=e("icon"),D=e("max")-e("min"),E="",k=0;k<D;k++)E+=A;r.find("> *").text(E),e("starwidth",r.width()/(e("max")-e("min")))}else r.width(e("starwidth")*(e("max")-e("min"))).height(e("starheight"));var p="rateit-preset"+(c?"":"-rtl");if(e("ispreset")?a.find(".rateit-selected").addClass(p):a.find(".rateit-selected").removeClass(p),e("value")!=null){var L=(e("value")-e("min"))*e("starwidth");a.find(".rateit-selected").width(L)}var v=a.find(".rateit-reset");v.data("wired")!==!0&&v.on("click",function(i){i.preventDefault(),v.trigger("blur");var n=d.Event("beforereset");if(a.trigger(n),n.isDefaultPrevented())return!1;a.rateit("value",null),a.trigger("reset")}).data("wired",!0);var M=function(i,n){var u=n.changedTouches?n.changedTouches[0].pageX:n.pageX,f=u-d(i).offset().left;return c||(f=r.width()-f),f>r.width()&&(f=r.width()),f<0&&(f=0),L=Math.ceil(f/e("starwidth")*(1/e("step")))},X=function(i){var n=i*e("starwidth")*e("step"),u=r.find(".rateit-hover");if(u.data("width")!=n){r.find(".rateit-selected").hide(),u.width(n).show().data("width",n);var f=[i*e("step")+e("min")];a.trigger("hover",f).trigger("over",f)}},x=function(i){var n=d.Event("beforerated");return a.trigger(n,[i]),n.isDefaultPrevented()?!1:(e("value",i),e("backingfld")&&(t[0].nodeName=="SELECT"&&t[0].getAttribute("data-rateit-valuesrc")==="index"?d(e("backingfld")).prop("selectedIndex",i).trigger("change"):d(e("backingfld")).val(i).trigger("change")),e("ispreset")&&(r.find(".rateit-selected").removeClass(p),e("ispreset",!1)),r.find(".rateit-hover").hide(),r.find(".rateit-selected").width(i*e("starwidth")-e("min")*e("starwidth")).show(),a.trigger("hover",[null]).trigger("over",[null]).trigger("rated",[i]),!0)};e("readonly")?v.hide():(e("resetable")||v.hide(),e("wired")||(r.on("touchmove touchend",I),r.on("mousemove",function(i){var n=M(this,i);X(n)}),r.on("mouseleave",function(i){r.find(".rateit-hover").hide().width(0).data("width",""),a.trigger("hover",[null]).trigger("over",[null]),r.find(".rateit-selected").show()}),r.on("mouseup",function(i){var n=M(this,i),u=n*e("step")+e("min");x(u),r.trigger("blur")}),r.on("keyup",function(i){(i.which==38||i.which==(c?39:37))&&x(Math.min(e("value")+e("step"),e("max"))),(i.which==40||i.which==(c?37:39))&&x(Math.max(e("value")-e("step"),e("min")))}),e("wired",!0)),e("resetable")&&v.show()),r.attr("aria-readonly",e("readonly"))})};function I(s){var o=s.originalEvent.changedTouches,m=o[0],l="";switch(s.type){case"touchmove":l="mousemove";break;case"touchend":l="mouseup";break;default:return}var h=document.createEvent("MouseEvent");h.initMouseEvent(l,!0,!0,window,1,m.screenX,m.screenY,m.clientX,m.clientY,!1,!1,!1,!1,0,null),m.target.dispatchEvent(h),s.preventDefault()}d.fn.rateit.defaults={min:0,max:5,step:.5,mode:"bg",icon:"â˜…",starwidth:16,starheight:16,readonly:!1,resetable:!0,ispreset:!1},d(function(){d("div.rateit, span.rateit").rateit()})})(jQuery);
//# sourceMappingURL=jquery.rateit-c1524ef7.js.map
