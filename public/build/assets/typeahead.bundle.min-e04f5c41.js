import{c as L}from"./_commonjsHelpers-042e6b4d.js";import{r as B}from"./jquery-f89b34b5.js";var j={exports:{}};/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */(function(D,H){(function(d,h){D.exports=h(B())})(L,function(d){var h=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(o){return!o||/^\s*$/.test(o)},escapeRegExChars:function(o){return o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(o){return typeof o=="string"},isNumber:function(o){return typeof o=="number"},isArray:d.isArray,isFunction:d.isFunction,isObject:d.isPlainObject,isUndefined:function(o){return typeof o>"u"},isElement:function(o){return!(!o||o.nodeType!==1)},isJQuery:function(o){return o instanceof d},toStr:function(o){return h.isUndefined(o)||o===null?"":o+""},bind:d.proxy,each:function(o,u){function n(r,i){return u(i,r)}d.each(o,n)},map:d.map,filter:d.grep,every:function(o,u){var n=!0;return o?(d.each(o,function(r,i){return(n=u.call(null,i,r,o))?void 0:!1}),!!n):n},some:function(o,u){var n=!1;return o?(d.each(o,function(r,i){return(n=u.call(null,i,r,o))?!1:void 0}),!!n):n},mixin:d.extend,identity:function(o){return o},clone:function(o){return d.extend(!0,{},o)},getIdGenerator:function(){var o=0;return function(){return o++}},templatify:function(o){function u(){return String(o)}return d.isFunction(o)?o:u},defer:function(o){setTimeout(o,0)},debounce:function(o,u,n){var r,i;return function(){var t,e,c=this,s=arguments;return t=function(){r=null,n||(i=o.apply(c,s))},e=n&&!r,clearTimeout(r),r=setTimeout(t,u),e&&(i=o.apply(c,s)),i}},throttle:function(o,u){var n,r,i,t,e,c;return e=0,c=function(){e=new Date,i=null,t=o.apply(n,r)},function(){var s=new Date,a=u-(s-e);return n=this,r=arguments,0>=a?(clearTimeout(i),i=null,e=s,t=o.apply(n,r)):i||(i=setTimeout(c,a)),t}},stringify:function(o){return h.isString(o)?o:JSON.stringify(o)},noop:function(){}}}(),A="0.11.1",C=function(){function o(r){return r=h.toStr(r),r?r.split(/\s+/):[]}function u(r){return r=h.toStr(r),r?r.split(/\W+/):[]}function n(r){return function(i){return i=h.isArray(i)?i:[].slice.call(arguments,0),function(t){var e=[];return h.each(i,function(c){e=e.concat(r(h.toStr(t[c])))}),e}}}return{nonword:u,whitespace:o,obj:{nonword:n(u),whitespace:n(o)}}}(),_=function(){function o(r){this.maxSize=h.isNumber(r)?r:100,this.reset(),this.maxSize<=0&&(this.set=this.get=d.noop)}function u(){this.head=this.tail=null}function n(r,i){this.key=r,this.val=i,this.prev=this.next=null}return h.mixin(o.prototype,{set:function(r,i){var t,e=this.list.tail;this.size>=this.maxSize&&(this.list.remove(e),delete this.hash[e.key],this.size--),(t=this.hash[r])?(t.val=i,this.list.moveToFront(t)):(t=new n(r,i),this.list.add(t),this.hash[r]=t,this.size++)},get:function(r){var i=this.hash[r];return i?(this.list.moveToFront(i),i.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new u}}),h.mixin(u.prototype,{add:function(r){this.head&&(r.next=this.head,this.head.prev=r),this.head=r,this.tail=this.tail||r},remove:function(r){r.prev?r.prev.next=r.next:this.head=r.next,r.next?r.next.prev=r.prev:this.tail=r.prev},moveToFront:function(r){this.remove(r),this.add(r)}}),o}(),$=function(){function o(e,c){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+h.escapeRegExChars(this.prefix)),this.ls=c||t,!this.ls&&this._noop()}function u(){return new Date().getTime()}function n(e){return JSON.stringify(h.isUndefined(e)?null:e)}function r(e){return d.parseJSON(e)}function i(e){var c,s,a=[],l=t.length;for(c=0;l>c;c++)(s=t.key(c)).match(e)&&a.push(s.replace(e,""));return a}var t;try{t=window.localStorage,t.setItem("~~~","!"),t.removeItem("~~~")}catch{t=null}return h.mixin(o.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=h.noop},_safeSet:function(e,c){try{this.ls.setItem(e,c)}catch(s){s.name==="QuotaExceededError"&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),r(this.ls.getItem(this._prefix(e)))},set:function(e,c,s){return h.isNumber(s)?this._safeSet(this._ttlKey(e),n(u()+s)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),n(c))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,c=i(this.keyMatcher);for(e=c.length;e--;)this.remove(c[e]);return this},isExpired:function(e){var c=r(this.ls.getItem(this._ttlKey(e)));return!!(h.isNumber(c)&&u()>c)}}),o}(),w=function(){function o(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new _(0):i}var u=0,n={},r=6,i=new _(10);return o.setMaxPendingRequests=function(t){r=t},o.resetCache=function(){i.reset()},h.mixin(o.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+d.param(t.data||{})},_get:function(t,e){function c(m){e(null,m),g._cache.set(l,m)}function s(){e(!0)}function a(){u--,delete n[l],g.onDeckRequestArgs&&(g._get.apply(g,g.onDeckRequestArgs),g.onDeckRequestArgs=null)}var l,p,g=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((p=n[l])?p.done(c).fail(s):r>u?(u++,n[l]=this._send(t).done(c).fail(s).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,e){var c,s;e=e||d.noop,t=h.isString(t)?{url:t}:t||{},s=this._fingerprint(t),this.cancelled=!1,this.lastReq=s,(c=this._cache.get(s))?e(null,c):this._get(t,e)},cancel:function(){this.cancelled=!0}}),o}(),k=window.SearchIndex=function(){function o(c){c=c||{},c.datumTokenizer&&c.queryTokenizer||d.error("datumTokenizer and queryTokenizer are both required"),this.identify=c.identify||h.stringify,this.datumTokenizer=c.datumTokenizer,this.queryTokenizer=c.queryTokenizer,this.reset()}function u(c){return c=h.filter(c,function(s){return!!s}),c=h.map(c,function(s){return s.toLowerCase()})}function n(){var c={};return c[e]=[],c[t]={},c}function r(c){for(var s={},a=[],l=0,p=c.length;p>l;l++)s[c[l]]||(s[c[l]]=!0,a.push(c[l]));return a}function i(c,s){var a=0,l=0,p=[];c=c.sort(),s=s.sort();for(var g=c.length,m=s.length;g>a&&m>l;)c[a]<s[l]?a++:(c[a]>s[l]||(p.push(c[a]),a++),l++);return p}var t="c",e="i";return h.mixin(o.prototype,{bootstrap:function(c){this.datums=c.datums,this.trie=c.trie},add:function(c){var s=this;c=h.isArray(c)?c:[c],h.each(c,function(a){var l,p;s.datums[l=s.identify(a)]=a,p=u(s.datumTokenizer(a)),h.each(p,function(g){var m,y,v;for(m=s.trie,y=g.split("");v=y.shift();)m=m[t][v]||(m[t][v]=n()),m[e].push(l)})})},get:function(c){var s=this;return h.map(c,function(a){return s.datums[a]})},search:function(c){var s,a,l=this;return s=u(this.queryTokenizer(c)),h.each(s,function(p){var g,m,y,v;if(a&&a.length===0)return!1;for(g=l.trie,m=p.split("");g&&(y=m.shift());)g=g[t][y];return g&&m.length===0?(v=g[e].slice(0),void(a=a?i(a,v):v)):(a=[],!1)}),a?h.map(r(a),function(p){return l.datums[p]}):[]},all:function(){var c=[];for(var s in this.datums)c.push(this.datums[s]);return c},reset:function(){this.datums={},this.trie=n()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),o}(),b=function(){function o(n){this.url=n.url,this.ttl=n.ttl,this.cache=n.cache,this.prepare=n.prepare,this.transform=n.transform,this.transport=n.transport,this.thumbprint=n.thumbprint,this.storage=new $(n.cacheKey)}var u;return u={data:"data",protocol:"protocol",thumbprint:"thumbprint"},h.mixin(o.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(n){this.cache&&(this.storage.set(u.data,n,this.ttl),this.storage.set(u.protocol,location.protocol,this.ttl),this.storage.set(u.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var n,r={};return this.cache?(r.data=this.storage.get(u.data),r.protocol=this.storage.get(u.protocol),r.thumbprint=this.storage.get(u.thumbprint),n=r.thumbprint!==this.thumbprint||r.protocol!==location.protocol,r.data&&!n?r.data:null):null},fromNetwork:function(n){function r(){n(!0)}function i(c){n(null,e.transform(c))}var t,e=this;n&&(t=this.prepare(this._settings()),this.transport(t).fail(r).done(i))},clear:function(){return this.storage.clear(),this}}),o}(),q=function(){function o(u){this.url=u.url,this.prepare=u.prepare,this.transform=u.transform,this.transport=new w({cache:u.cache,limiter:u.limiter,transport:u.transport})}return h.mixin(o.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(u,n){function r(e,c){n(e?[]:t.transform(c))}var i,t=this;if(n)return u=u||"",i=this.prepare(u,this._settings()),this.transport.get(i,r)},cancelLastRequest:function(){this.transport.cancel()}}),o}(),T=function(){function o(t){var e;return t?(e={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:h.identity,transform:h.identity,transport:null},t=h.isString(t)?{url:t}:t,t=h.mixin(e,t),!t.url&&d.error("prefetch requires url to be set"),t.transform=t.filter||t.transform,t.cacheKey=t.cacheKey||t.url,t.thumbprint=A+t.thumbprint,t.transport=t.transport?i(t.transport):d.ajax,t):null}function u(t){var e;if(t)return e={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:h.identity,transport:null},t=h.isString(t)?{url:t}:t,t=h.mixin(e,t),!t.url&&d.error("remote requires url to be set"),t.transform=t.filter||t.transform,t.prepare=n(t),t.limiter=r(t),t.transport=t.transport?i(t.transport):d.ajax,delete t.replace,delete t.wildcard,delete t.rateLimitBy,delete t.rateLimitWait,t}function n(t){function e(g,m){return m.url=l(m.url,g),m}function c(g,m){return m.url=m.url.replace(p,encodeURIComponent(g)),m}function s(g,m){return m}var a,l,p;return a=t.prepare,l=t.replace,p=t.wildcard,a||(a=l?e:t.wildcard?c:s)}function r(t){function e(p){return function(g){return h.debounce(g,p)}}function c(p){return function(g){return h.throttle(g,p)}}var s,a,l;return s=t.limiter,a=t.rateLimitBy,l=t.rateLimitWait,s||(s=/^throttle$/i.test(a)?c(l):e(l)),s}function i(t){return function(e){function c(l){h.defer(function(){a.resolve(l)})}function s(l){h.defer(function(){a.reject(l)})}var a=d.Deferred();return t(e,c,s),a}}return function(t){var e,c;return e={initialize:!0,identify:h.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},t=h.mixin(e,t||{}),!t.datumTokenizer&&d.error("datumTokenizer is required"),!t.queryTokenizer&&d.error("queryTokenizer is required"),c=t.sorter,t.sorter=c?function(s){return s.sort(c)}:h.identity,t.local=h.isFunction(t.local)?t.local():t.local,t.prefetch=o(t.prefetch),t.remote=u(t.remote),t}}(),f=function(){function o(n){n=T(n),this.sorter=n.sorter,this.identify=n.identify,this.sufficient=n.sufficient,this.local=n.local,this.remote=n.remote?new q(n.remote):null,this.prefetch=n.prefetch?new b(n.prefetch):null,this.index=new k({identify:this.identify,datumTokenizer:n.datumTokenizer,queryTokenizer:n.queryTokenizer}),n.initialize!==!1&&this.initialize()}var u;return u=window&&window.Bloodhound,o.noConflict=function(){return window&&(window.Bloodhound=u),o},o.tokenizers=C,h.mixin(o.prototype,{__ttAdapter:function(){function n(t,e,c){return i.search(t,e,c)}function r(t,e){return i.search(t,e)}var i=this;return this.remote?n:r},_loadPrefetch:function(){function n(e,c){return e?r.reject():(t.add(c),t.prefetch.store(t.index.serialize()),void r.resolve())}var r,i,t=this;return r=d.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),r.resolve()):this.prefetch.fromNetwork(n):r.resolve(),r.promise()},_initialize:function(){function n(){r.add(r.local)}var r=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(n),this.initPromise},initialize:function(n){return!this.initPromise||n?this._initialize():this.initPromise},add:function(n){return this.index.add(n),this},get:function(n){return n=h.isArray(n)?n:[].slice.call(arguments),this.index.get(n)},search:function(n,r,i){function t(s){var a=[];h.each(s,function(l){!h.some(e,function(p){return c.identify(l)===c.identify(p)})&&a.push(l)}),i&&i(a)}var e,c=this;return e=this.sorter(this.index.search(n)),r(this.remote?e.slice():e),this.remote&&e.length<this.sufficient?this.remote.get(n,t):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return w.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),o}();return f}),function(d,h){D.exports=h(B())}(L,function(d){var h=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(f){return!f||/^\s*$/.test(f)},escapeRegExChars:function(f){return f.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(f){return typeof f=="string"},isNumber:function(f){return typeof f=="number"},isArray:d.isArray,isFunction:d.isFunction,isObject:d.isPlainObject,isUndefined:function(f){return typeof f>"u"},isElement:function(f){return!(!f||f.nodeType!==1)},isJQuery:function(f){return f instanceof d},toStr:function(f){return h.isUndefined(f)||f===null?"":f+""},bind:d.proxy,each:function(f,o){function u(n,r){return o(r,n)}d.each(f,u)},map:d.map,filter:d.grep,every:function(f,o){var u=!0;return f?(d.each(f,function(n,r){return(u=o.call(null,r,n,f))?void 0:!1}),!!u):u},some:function(f,o){var u=!1;return f?(d.each(f,function(n,r){return(u=o.call(null,r,n,f))?!1:void 0}),!!u):u},mixin:d.extend,identity:function(f){return f},clone:function(f){return d.extend(!0,{},f)},getIdGenerator:function(){var f=0;return function(){return f++}},templatify:function(f){function o(){return String(f)}return d.isFunction(f)?f:o},defer:function(f){setTimeout(f,0)},debounce:function(f,o,u){var n,r;return function(){var i,t,e=this,c=arguments;return i=function(){n=null,u||(r=f.apply(e,c))},t=u&&!n,clearTimeout(n),n=setTimeout(i,o),t&&(r=f.apply(e,c)),r}},throttle:function(f,o){var u,n,r,i,t,e;return t=0,e=function(){t=new Date,r=null,i=f.apply(u,n)},function(){var c=new Date,s=o-(c-t);return u=this,n=arguments,0>=s?(clearTimeout(r),r=null,t=c,i=f.apply(u,n)):r||(r=setTimeout(e,s)),i}},stringify:function(f){return h.isString(f)?f:JSON.stringify(f)},noop:function(){}}}(),A=function(){function f(i){var t,e;return e=h.mixin({},r,i),t={css:n(),classes:e,html:o(e),selectors:u(e)},{css:t.css,html:t.html,classes:t.classes,selectors:t.selectors,mixin:function(c){h.mixin(c,t)}}}function o(i){return{wrapper:'<span class="'+i.wrapper+'"></span>',menu:'<div class="'+i.menu+'"></div>'}}function u(i){var t={};return h.each(i,function(e,c){t[c]="."+e}),t}function n(){var i={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return h.isMsie()&&h.mixin(i.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),i}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return f}(),C=function(){function f(n){n&&n.el||d.error("EventBus initialized without el"),this.$el=d(n.el)}var o,u;return o="typeahead:",u={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},h.mixin(f.prototype,{_trigger:function(n,r){var i;return i=d.Event(o+n),(r=r||[]).unshift(i),this.$el.trigger.apply(this.$el,r),i},before:function(n){var r,i;return r=[].slice.call(arguments,1),i=this._trigger("before"+n,r),i.isDefaultPrevented()},trigger:function(n){var r;this._trigger(n,[].slice.call(arguments,1)),(r=u[n])&&this._trigger(r,[].slice.call(arguments,1))}}),f}(),_=function(){function f(a,l,p,g){var m;if(!p)return this;for(l=l.split(c),p=g?e(p,g):p,this._callbacks=this._callbacks||{};m=l.shift();)this._callbacks[m]=this._callbacks[m]||{sync:[],async:[]},this._callbacks[m][a].push(p);return this}function o(a,l,p){return f.call(this,"async",a,l,p)}function u(a,l,p){return f.call(this,"sync",a,l,p)}function n(a){var l;if(!this._callbacks)return this;for(a=a.split(c);l=a.shift();)delete this._callbacks[l];return this}function r(a){var l,p,g,m,y;if(!this._callbacks)return this;for(a=a.split(c),g=[].slice.call(arguments,1);(l=a.shift())&&(p=this._callbacks[l]);)m=i(p.sync,this,[l].concat(g)),y=i(p.async,this,[l].concat(g)),m()&&s(y);return this}function i(a,l,p){function g(){for(var m,y=0,v=a.length;!m&&v>y;y+=1)m=a[y].apply(l,p)===!1;return!m}return g}function t(){return window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function e(a,l){return a.bind?a.bind(l):function(){a.apply(l,[].slice.call(arguments,0))}}var c=/\s+/,s=t();return{onSync:u,onAsync:o,off:n,trigger:r}}(),$=function(f){function o(n,r,i){for(var t,e=[],c=0,s=n.length;s>c;c++)e.push(h.escapeRegExChars(n[c]));return t=i?"\\b("+e.join("|")+")\\b":"("+e.join("|")+")",r?new RegExp(t):new RegExp(t,"i")}var u={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(n){function r(e){var c,s,a;return(c=t.exec(e.data))&&(a=f.createElement(n.tagName),n.className&&(a.className=n.className),s=e.splitText(c.index),s.splitText(c[0].length),a.appendChild(s.cloneNode(!0)),e.parentNode.replaceChild(a,s)),!!c}function i(e,c){for(var s,a=3,l=0;l<e.childNodes.length;l++)s=e.childNodes[l],s.nodeType===a?l+=c(s)?1:0:i(s,c)}var t;n=h.mixin({},u,n),n.node&&n.pattern&&(n.pattern=h.isArray(n.pattern)?n.pattern:[n.pattern],t=o(n.pattern,n.caseSensitive,n.wordsOnly),i(n.node,r))}}(window.document),w=function(){function f(i,t){i=i||{},i.input||d.error("input is missing"),t.mixin(this),this.$hint=d(i.hint),this.$input=d(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=o(this.$input),this._checkLanguageDirection(),this.$hint.length===0&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=h.noop)}function o(i){return d('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:i.css("font-family"),fontSize:i.css("font-size"),fontStyle:i.css("font-style"),fontVariant:i.css("font-variant"),fontWeight:i.css("font-weight"),wordSpacing:i.css("word-spacing"),letterSpacing:i.css("letter-spacing"),textIndent:i.css("text-indent"),textRendering:i.css("text-rendering"),textTransform:i.css("text-transform")}).insertAfter(i)}function u(i,t){return f.normalizeQuery(i)===f.normalizeQuery(t)}function n(i){return i.altKey||i.ctrlKey||i.metaKey||i.shiftKey}var r;return r={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},f.normalizeQuery=function(i){return h.toStr(i).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},h.mixin(f.prototype,_,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(i){var t=r[i.which||i.keyCode];this._managePreventDefault(t,i),t&&this._shouldTrigger(t,i)&&this.trigger(t+"Keyed",i)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(i,t){var e;switch(i){case"up":case"down":e=!n(t);break;default:e=!1}e&&t.preventDefault()},_shouldTrigger:function(i,t){var e;switch(i){case"tab":e=!n(t);break;default:e=!0}return e},_checkLanguageDirection:function(){var i=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==i&&(this.dir=i,this.$hint.attr("dir",i),this.trigger("langDirChanged",i))},_setQuery:function(i,t){var e,c;e=u(i,this.query),c=e?this.query.length!==i.length:!1,this.query=i,t||e?!t&&c&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var i,t,e,c,s=this;return i=h.bind(this._onBlur,this),t=h.bind(this._onFocus,this),e=h.bind(this._onKeydown,this),c=h.bind(this._onInput,this),this.$input.on("blur.tt",i).on("focus.tt",t).on("keydown.tt",e),!h.isMsie()||h.isMsie()>9?this.$input.on("input.tt",c):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){r[a.which||a.keyCode]||h.defer(h.bind(s._onInput,s,a))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(i,t){this.setInputValue(i),this._setQuery(i,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(i){this.$input.val(i),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(i){this.$hint.val(i)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var i,t,e,c;i=this.getInputValue(),t=this.getHint(),e=i!==t&&t.indexOf(i)===0,c=i!==""&&e&&!this.hasOverflow(),!c&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var i=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=i},isCursorAtEnd:function(){var i,t,e;return i=this.$input.val().length,t=this.$input[0].selectionStart,h.isNumber(t)?t===i:document.selection?(e=document.selection.createRange(),e.moveStart("character",-i),i===e.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=d("<div>")}}),f}(),k=function(){function f(t,e){t=t||{},t.templates=t.templates||{},t.templates.notFound=t.templates.notFound||t.templates.empty,t.source||d.error("missing source"),t.node||d.error("missing node"),t.name&&!n(t.name)&&d.error("invalid dataset name: "+t.name),e.mixin(this),this.highlight=!!t.highlight,this.name=t.name||i(),this.limit=t.limit||5,this.displayFn=o(t.display||t.displayKey),this.templates=u(t.templates,this.displayFn),this.source=t.source.__ttAdapter?t.source.__ttAdapter():t.source,this.async=h.isUndefined(t.async)?this.source.length>2:!!t.async,this._resetLastSuggestion(),this.$el=d(t.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function o(t){function e(c){return c[t]}return t=t||h.stringify,h.isFunction(t)?t:e}function u(t,e){function c(s){return d("<div>").text(e(s))}return{notFound:t.notFound&&h.templatify(t.notFound),pending:t.pending&&h.templatify(t.pending),header:t.header&&h.templatify(t.header),footer:t.footer&&h.templatify(t.footer),suggestion:t.suggestion||c}}function n(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var r,i;return r={val:"tt-selectable-display",obj:"tt-selectable-object"},i=h.getIdGenerator(),f.extractData=function(t){var e=d(t);return e.data(r.obj)?{val:e.data(r.val)||"",obj:e.data(r.obj)||null}:null},h.mixin(f.prototype,_,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var c;c=this._getSuggestionsFragment(t,e),this.$lastSuggestion=c.children().last(),this.$el.html(c).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var c,s;c=this._getSuggestionsFragment(t,e),s=c.children().last(),this.$lastSuggestion.after(c),this.$lastSuggestion=s},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(t,e){var c,s=this;return c=document.createDocumentFragment(),h.each(e,function(a){var l,p;p=s._injectQuery(t,a),l=d(s.templates.suggestion(p)).data(r.obj,a).data(r.val,s.displayFn(a)).addClass(s.classes.suggestion+" "+s.classes.selectable),c.appendChild(l[0])}),this.highlight&&$({className:this.classes.highlight,node:c,pattern:t}),d(c)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=d()},_injectQuery:function(t,e){return h.isObject(e)?h.mixin({_query:t},e):e},update:function(t){function e(g){l||(l=!0,g=(g||[]).slice(0,s.limit),p=g.length,s._overwrite(t,g),p<s.limit&&s.async&&s.trigger("asyncRequested",t))}function c(g){g=g||[],!a&&p<s.limit&&(s.cancel=d.noop,p+=g.length,s._append(t,g.slice(0,s.limit-p)),s.async&&s.trigger("asyncReceived",t))}var s=this,a=!1,l=!1,p=0;this.cancel(),this.cancel=function(){a=!0,s.cancel=d.noop,s.async&&s.trigger("asyncCanceled",t)},this.source(t,e,c),!l&&e([])},cancel:d.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=d("<div>")}}),f}(),b=function(){function f(o,u){function n(i){var t=r.$node.find(i.node).first();return i.node=t.length?t:d("<div>").appendTo(r.$node),new k(i,u)}var r=this;o=o||{},o.node||d.error("node is required"),u.mixin(this),this.$node=d(o.node),this.query=null,this.datasets=h.map(o.datasets,n)}return h.mixin(f.prototype,_,{_onSelectableClick:function(o){this.trigger("selectableClicked",d(o.currentTarget))},_onRendered:function(o,u,n,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",u,n,r)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function o(u){return u.isEmpty()}return h.every(this.datasets,o)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var o=this.getActiveSelectable();o&&o.removeClass(this.classes.cursor)},_ensureVisible:function(o){var u,n,r,i;u=o.position().top,n=u+o.outerHeight(!0),r=this.$node.scrollTop(),i=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>u?this.$node.scrollTop(r+u):n>i&&this.$node.scrollTop(r+(n-i))},bind:function(){var o,u=this;return o=h.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,o),h.each(this.datasets,function(n){n.onSync("asyncRequested",u._propagate,u).onSync("asyncCanceled",u._propagate,u).onSync("asyncReceived",u._propagate,u).onSync("rendered",u._onRendered,u).onSync("cleared",u._onCleared,u)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(o){this.$node.attr("dir",o)},selectableRelativeToCursor:function(o){var u,n,r,i;return n=this.getActiveSelectable(),u=this._getSelectables(),r=n?u.index(n):-1,i=r+o,i=(i+1)%(u.length+1)-1,i=-1>i?u.length-1:i,i===-1?null:u.eq(i)},setCursor:function(o){this._removeCursor(),(o=o&&o.first())&&(o.addClass(this.classes.cursor),this._ensureVisible(o))},getSelectableData:function(o){return o&&o.length?k.extractData(o):null},getActiveSelectable:function(){var o=this._getSelectables().filter(this.selectors.cursor).first();return o.length?o:null},getTopSelectable:function(){var o=this._getSelectables().first();return o.length?o:null},update:function(o){function u(r){r.update(o)}var n=o!==this.query;return n&&(this.query=o,h.each(this.datasets,u)),n},empty:function(){function o(u){u.clear()}h.each(this.datasets,o),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function o(u){u.destroy()}this.$node.off(".tt"),this.$node=d("<div>"),h.each(this.datasets,o)}}),f}(),q=function(){function f(){b.apply(this,[].slice.call(arguments,0))}var o=b.prototype;return h.mixin(f.prototype,b.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),o.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),o.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),o._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),o._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(u){return this.$node.css(u==="ltr"?this.css.ltr:this.css.rtl),o.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),f}(),T=function(){function f(u,n){var r,i,t,e,c,s,a,l,p,g,m;u=u||{},u.input||d.error("missing input"),u.menu||d.error("missing menu"),u.eventBus||d.error("missing event bus"),n.mixin(this),this.eventBus=u.eventBus,this.minLength=h.isNumber(u.minLength)?u.minLength:1,this.input=u.input,this.menu=u.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),r=o(this,"activate","open","_onFocused"),i=o(this,"deactivate","_onBlurred"),t=o(this,"isActive","isOpen","_onEnterKeyed"),e=o(this,"isActive","isOpen","_onTabKeyed"),c=o(this,"isActive","_onEscKeyed"),s=o(this,"isActive","open","_onUpKeyed"),a=o(this,"isActive","open","_onDownKeyed"),l=o(this,"isActive","isOpen","_onLeftKeyed"),p=o(this,"isActive","isOpen","_onRightKeyed"),g=o(this,"_openIfActive","_onQueryChanged"),m=o(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",r,this).onSync("blurred",i,this).onSync("enterKeyed",t,this).onSync("tabKeyed",e,this).onSync("escKeyed",c,this).onSync("upKeyed",s,this).onSync("downKeyed",a,this).onSync("leftKeyed",l,this).onSync("rightKeyed",p,this).onSync("queryChanged",g,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function o(u){var n=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);h.each(n,function(i){return u[i].apply(u,r)})}}return h.mixin(f.prototype,{_hacks:function(){var u,n;u=this.input.$input||d("<div>"),n=this.menu.$node||d("<div>"),u.on("blur.tt",function(r){var i,t,e;i=document.activeElement,t=n.is(i),e=n.has(i).length>0,h.isMsie()&&(t||e)&&(r.preventDefault(),r.stopImmediatePropagation(),h.defer(function(){u.focus()}))}),n.on("mousedown.tt",function(r){r.preventDefault()})},_onSelectableClicked:function(u,n){this.select(n)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(u,n,r,i){this._updateHint(),this.eventBus.trigger("render",r,i,n)},_onAsyncRequested:function(u,n,r){this.eventBus.trigger("asyncrequest",r,n)},_onAsyncCanceled:function(u,n,r){this.eventBus.trigger("asynccancel",r,n)},_onAsyncReceived:function(u,n,r){this.eventBus.trigger("asyncreceive",r,n)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(u,n){var r;(r=this.menu.getActiveSelectable())&&this.select(r)&&n.preventDefault()},_onTabKeyed:function(u,n){var r;(r=this.menu.getActiveSelectable())?this.select(r)&&n.preventDefault():(r=this.menu.getTopSelectable())&&this.autocomplete(r)&&n.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){this.dir==="rtl"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){this.dir==="ltr"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(u,n){this._minLengthMet(n)?this.menu.update(n):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(u,n){this.dir!==n&&(this.dir=n,this.menu.setLanguageDirection(n))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(u){return u=h.isString(u)?u:this.input.getQuery()||"",u.length>=this.minLength},_updateHint:function(){var u,n,r,i,t,e,c;u=this.menu.getTopSelectable(),n=this.menu.getSelectableData(u),r=this.input.getInputValue(),!n||h.isBlankString(r)||this.input.hasOverflow()?this.input.clearHint():(i=w.normalizeQuery(r),t=h.escapeRegExChars(i),e=new RegExp("^(?:"+t+")(.+$)","i"),c=e.exec(n.val),c&&this.input.setHint(r+c[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(u){this.input.setQuery(h.toStr(u))},getVal:function(){return this.input.getQuery()},select:function(u){var n=this.menu.getSelectableData(u);return n&&!this.eventBus.before("select",n.obj)?(this.input.setQuery(n.val,!0),this.eventBus.trigger("select",n.obj),this.close(),!0):!1},autocomplete:function(u){var n,r,i;return n=this.input.getQuery(),r=this.menu.getSelectableData(u),i=r&&n!==r.val,i&&!this.eventBus.before("autocomplete",r.obj)?(this.input.setQuery(r.val),this.eventBus.trigger("autocomplete",r.obj),!0):!1},moveCursor:function(u){var n,r,i,t,e;return n=this.input.getQuery(),r=this.menu.selectableRelativeToCursor(u),i=this.menu.getSelectableData(r),t=i?i.obj:null,e=this._minLengthMet()&&this.menu.update(n),e||this.eventBus.before("cursorchange",t)?!1:(this.menu.setCursor(r),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",t),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),f}();(function(){function f(s,a){s.each(function(){var l,p=d(this);(l=p.data(e.typeahead))&&a(l,p)})}function o(s,a){return s.clone().addClass(a.classes.hint).removeData().css(a.css.hint).css(n(s)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function u(s,a){s.data(e.attrs,{dir:s.attr("dir"),autocomplete:s.attr("autocomplete"),spellcheck:s.attr("spellcheck"),style:s.attr("style")}),s.addClass(a.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!s.attr("dir")&&s.attr("dir","auto")}catch{}return s}function n(s){return{backgroundAttachment:s.css("background-attachment"),backgroundClip:s.css("background-clip"),backgroundColor:s.css("background-color"),backgroundImage:s.css("background-image"),backgroundOrigin:s.css("background-origin"),backgroundPosition:s.css("background-position"),backgroundRepeat:s.css("background-repeat"),backgroundSize:s.css("background-size")}}function r(s){var a,l;a=s.data(e.www),l=s.parent().filter(a.selectors.wrapper),h.each(s.data(e.attrs),function(p,g){h.isUndefined(p)?s.removeAttr(g):s.attr(g,p)}),s.removeData(e.typeahead).removeData(e.www).removeData(e.attr).removeClass(a.classes.input),l.length&&(s.detach().insertAfter(l),l.remove())}function i(s){var a,l;return a=h.isJQuery(s)||h.isElement(s),l=a?d(s).first():[],l.length?l:null}var t,e,c;t=d.fn.typeahead,e={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},c={initialize:function(s,a){function l(){var g,m,y,v,S,x,I,z,R,E,F;h.each(a,function(K){K.highlight=!!s.highlight}),g=d(this),m=d(p.html.wrapper),y=i(s.hint),v=i(s.menu),S=s.hint!==!1&&!y,x=s.menu!==!1&&!v,S&&(y=o(g,p)),x&&(v=d(p.html.menu).css(p.css.menu)),y&&y.val(""),g=u(g,p),(S||x)&&(m.css(p.css.wrapper),g.css(S?p.css.input:p.css.inputWithNoHint),g.wrap(m).parent().prepend(S?y:null).append(x?v:null)),F=x?q:b,I=new C({el:g}),z=new w({hint:y,input:g},p),R=new F({node:v,datasets:a},p),E=new T({input:z,menu:R,eventBus:I,minLength:s.minLength},p),g.data(e.www,p),g.data(e.typeahead,E)}var p;return a=h.isArray(a)?a:[].slice.call(arguments,1),s=s||{},p=A(s.classNames),this.each(l)},isEnabled:function(){var s;return f(this.first(),function(a){s=a.isEnabled()}),s},enable:function(){return f(this,function(s){s.enable()}),this},disable:function(){return f(this,function(s){s.disable()}),this},isActive:function(){var s;return f(this.first(),function(a){s=a.isActive()}),s},activate:function(){return f(this,function(s){s.activate()}),this},deactivate:function(){return f(this,function(s){s.deactivate()}),this},isOpen:function(){var s;return f(this.first(),function(a){s=a.isOpen()}),s},open:function(){return f(this,function(s){s.open()}),this},close:function(){return f(this,function(s){s.close()}),this},select:function(s){var a=!1,l=d(s);return f(this.first(),function(p){a=p.select(l)}),a},autocomplete:function(s){var a=!1,l=d(s);return f(this.first(),function(p){a=p.autocomplete(l)}),a},moveCursor:function(s){var a=!1;return f(this.first(),function(l){a=l.moveCursor(s)}),a},val:function(s){var a;return arguments.length?(f(this,function(l){l.setVal(s)}),this):(f(this.first(),function(l){a=l.getVal()}),a)},destroy:function(){return f(this,function(s,a){r(a),s.destroy()}),this}},d.fn.typeahead=function(s){return c[s]?c[s].apply(this,[].slice.call(arguments,1)):c.initialize.apply(this,arguments)},d.fn.typeahead.noConflict=function(){return d.fn.typeahead=t,this}})()})})(j);
//# sourceMappingURL=typeahead.bundle.min-e04f5c41.js.map
